(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){e.exports={page:"Layout_page__1NpLZ"}},139:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n.n(r),s=n(20),c=n(7),i=n(6),o=n(1),l=n(9),u=n.n(l),d=n(11),p=n(12),j=n.n(p),b="https://polls-app-project.herokuapp.com",h="USER_GROUP_LIST_REQUEST",O="USER_GROUP_LIST_SUCCESS",f="USER_GROUP_LIST_FAIL",x="USER_GROUP_LIST_RESET",g="GROUP_LIST_REQUEST",m="GROUP_LIST_SUCCESS",y="GROUP_LIST_FAIL",_="GROUP_LIST_RESET",v="GROUP_DETAILS_REQUEST",w="GROUP_DETAILS_SUCCESS",E="GROUP_DETAILS_FAIL",S="GROUP_DETAILS_RESET",C="GROUP_CREATE_REQUEST",k="GROUP_CREATE_SUCCESS",L="GROUP_CREATE_FAIL",I="GROUP_CREATE_RESET",N="GROUP_UPDATE_REQUEST",R="GROUP_UPDATE_SUCCESS",D="GROUP_UPDATE_FAIL",P="GROUP_UPDATE_RESET",A="GROUP_DELETE_REQUEST",T="GROUP_DELETE_SUCCESS",U="GROUP_DELETE_FAIL",z=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,j.a.get("".concat(b,"/api/groups"));case 4:n=e.sent,r=n.data,t({type:m,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},F="USER_POLL_LIST_REQUEST",G="USER_POLL_LIST_SUCCESS",q="USER_POLL_LIST_FAIL",Q="USER_POLL_LIST_RESET",W=n(145),B=n(0),M=function(){return Object(B.jsx)(W.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(B.jsx)("span",{className:"sr-only",children:"Loading..."})})},Z=n(13),J=n(92),Y=n.n(J),H=n(147),V=n(93),K=n.n(V),X=function(e){var t=e.type,n=e.onClick,r=e.disabled,a=e.className,s=e.children;e.style;return Object(B.jsx)("button",{type:t||"button",className:a||K.a.button,onClick:n,disabled:r||!1,style:{margin:"0 auto"},children:s})},$=n(17),ee="POLL_LIST_REQUEST",te="POLL_LIST_SUCCESS",ne="POLL_LIST_FAIL",re="POLL_LIST_RESET",ae="POLL_REQUEST",se="POLL_SUCCESS",ce="POLL_FAIL",ie="POLL_RESET",oe="POLL_DELETE_REQUEST",le="POLL_DELETE_SUCCESS",ue="POLL_DELETE_FAIL",de="POLL_DESCRIPTION_CREATE_POLL_REQUEST",pe="POLL_DESCRIPTION_CREATE_POLL_SUCCESS",je="POLL_DESCRIPTION_CREATE_POLL_FAIL",be="POLL_DESCRIPTION_CREATE_POLL_RESET",he="SENT_CREATED_POLL_REQUEST",Oe="SENT_CREATED_POLL_SUCCESS",fe="SENT_CREATED_POLL_FAIL",xe=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:ae}),t.next=4,j.a.get("".concat(b,"/api/polls/").concat(e));case 4:r=t.sent,a=r.data,n({type:se,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ge=function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var a,s,c,i,o,l,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"DOWNLOAD_REPORT_POLL_REQUEST"}),a={"Content-Type":"blob"},s=t?{method:"GET",url:"".concat(b,"/api/polls/admin/report/").concat(e),responseType:"arraybuffer",headers:a}:{method:"GET",url:"".concat(b,"/api/polls/report/").concat(e),responseType:"arraybuffer",headers:a},n.prev=4,n.next=7,j()(s);case 7:c=n.sent,i=c.data,o="Raport_ankieta_".concat(e,".xlsx"),l=b.createObjectURL(new Blob([i])),(d=document.createElement("a")).href=l,d.setAttribute("download",o),document.body.appendChild(d),d.click(),n.next=21;break;case 18:throw n.prev=18,n.t0=n.catch(4),Error(n.t0);case 21:r({type:"DOWNLOAD_REPORT_POLL_SUCCESS"}),n.next=27;break;case 24:n.prev=24,n.t1=n.catch(0),r({type:"DOWNLOAD_REPORT_POLL_FAIL",payload:n.t1.response&&n.t1.response.data.message?n.t1.response.data.message:n.t1.message});case 27:case"end":return n.stop()}}),n,null,[[0,24],[4,18]])})));return function(e){return n.apply(this,arguments)}}()},me=function(e){var t=e.name,n=e.description,r=e.deadline,a=e.id,s=e.isFinished,i=e.groupName,o=Object(c.b)();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("td",{children:t}),Object(B.jsx)("td",{children:n}),Object(B.jsxs)("td",{children:[Object(B.jsx)("p",{children:r.slice(0,10)}),Object(B.jsx)("p",{children:r.slice(11,19)})]}),Object(B.jsx)("td",{children:i}),s?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("td",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(B.jsx)($.LinkContainer,{to:"/polls/".concat(a,"/filled-poll"),children:Object(B.jsx)(X,{style:{margin:"0 auto"},children:"Zobacz"})})}),Object(B.jsxs)("td",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[" ",Object(B.jsx)(X,{style:{margin:"0 auto"},onClick:function(){o(ge(t,!1))},children:"Raport"})]})]}):Object(B.jsx)("td",{children:Object(B.jsx)($.LinkContainer,{to:"/polls/".concat(a),children:Object(B.jsx)(X,{style:{margin:"0 auto"},children:"Wype\u0142nij"})})})]})},ye=n(146),_e=function(e){var t=e.groupName,n=e.polls;e.isCompleted;return 0!==n.length&&Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"NAZWA"}),Object(B.jsx)("th",{children:"OPIS"}),Object(B.jsx)("th",{children:"TERMIN"}),Object(B.jsx)("th",{children:"GRUPY"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:n.map((function(e){return Object(B.jsx)("tr",{children:Object(B.jsx)(me,{name:e.pollName,description:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished,id:e.pollID,groupName:t},e.pollID)},e.pollID)}))})]})},ve=function(e){var t=e.polls,n=Object(Z.a)(t),r=n.map((function(e){var t=e.polls.filter((function(e){return!e.isFinished})),n=Math.floor(1e3*Math.random());return!!t.length&&Object(B.jsx)(_e,{groupName:e.groupName,polls:t,isCompleted:!1},n)})),a=n.map((function(e){var t=Math.floor(1e3*Math.random()),n=e.polls.filter((function(e){return e.isFinished}));return!!n.length&&Object(B.jsx)(_e,{groupName:e.groupName,polls:n,isCompleted:!0},t)}));return Object(B.jsxs)("div",{className:Y.a["selected-polls"],children:[Object(B.jsx)("h2",{style:{textAlign:"center",marginTop:"10px"},children:"Dost\u0119pne ankiety:"}),!1!==r[0]&&r.length?r:Object(B.jsx)(H.a,{variant:"info",children:"Brak dost\u0119pnych ankiet"}),Object(B.jsx)("h2",{style:{textAlign:"center"},children:"Zako\u0144czone ankiety:"}),!1!==a[0]&&a.length?a:Object(B.jsx)(H.a,{variant:"info",children:"Brak zako\u0144czonych ankiet"})]})},we=n(154),Ee=function(e){var t=e.name;return Object(B.jsx)(we.a.Item,{children:t})},Se=function(e){var t=e.groups;return Object(B.jsx)(we.a,{horizontal:!0,children:t.map((function(e){if("Wszyscy"!==e.groupName)return Object(B.jsx)(Ee,{name:e.groupName},e.ID);if("Wszyscy"===e.groupName&&1===t.length){var n=Math.floor(1e5*Math.random());return Object(B.jsx)(H.a,{variant:"info",style:{width:"100%",textAlign:"center"},children:"Nie nale\u017cysz do \u017cadnej z grup"},n)}}))})},Ce=function(){var e=Object(c.b)(),t=Object(i.t)(),n=Object(c.c)((function(e){return e.userLogin})).userInfo,r=Object(c.c)((function(e){return e.userGroupList})),a=r.loading,s=r.userGroups,l=Object(c.c)((function(e){return e.userPollList})),p=l.error,x=l.userPolls,g=l.loading;return Object(o.useEffect)((function(){var r;n?e((r=n.id,function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:h}),e.next=4,j.a.get("".concat(b,"/api/user-groups"));case 4:return n=e.sent,a=n.data,s=[],a.forEach((function(e){e.user===r&&s.push(e.group)})),e.next=10,j.a.get("".concat(b,"/api/groups"));case 10:c=e.sent,i=c.data,o=[],i.forEach((function(e){s.forEach((function(t){e.ID===t&&o.push({groupID:e.ID,groupName:e.group_name})}))})),localStorage.setItem("userGroups",JSON.stringify(o)),t({type:O,payload:o}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t({type:f,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}())):t("/login")}),[e,n,t]),Object(o.useEffect)((function(){s.length&&n&&e(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var a,s,c,i,o,l,d,p,h,O,f,x,g,m,y,_,v;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:F}),n.next=4,j.a.get("".concat(b,"/api/user-polls"));case 4:return a=n.sent,s=a.data,c=[],s.forEach((function(t){t.user===e&&c.push(t.poll)})),n.next=10,j.a.get("".concat(b,"/api/polls"));case 10:return i=n.sent,o=i.data,l=[],n.next=15,j.a.get("".concat(b,"/api/polls-groups"));case 15:for(d=n.sent,p=d.data,o.forEach((function(e){c.forEach((function(t){e.ID===t&&l.push({pollID:e.ID,pollName:e.poll_name,pollDescription:e.poll_description,deadline:e.deadline,isFinished:e.isFinished})}))})),h=[],l.forEach((function(e){p.forEach((function(t){e.pollID===t.poll&&h.push({groupID:t.group,pollID:e.pollID,pollName:e.pollName,pollDescription:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished})}))})),O=[],h.forEach((function(e){t.forEach((function(t){e.groupID===t.groupID&&O.push({groupName:t.groupName,pollID:e.pollID,pollName:e.pollName,pollDescription:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished})}))})),f=[].concat(O),x=0;x<f.length;x++)for(g=x+1;g<f.length;g++)f[x].pollID===f[g].pollID&&f.splice(g,1);for(m=[],f.forEach((function(e){if(m.length)m.forEach((function(t){if(e.groupName!==t.groupName){var n={groupName:e.groupName,polls:[{pollID:e.pollID,pollName:e.pollName,pollDescription:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished}]};m.push(n)}else e.groupName===t.groupName&&t.polls.forEach((function(n){e.pollID!==n.pollID&&t.polls.push({pollID:e.pollID,pollName:e.pollName,pollDescription:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished})}))}));else{var t={groupName:e.groupName,polls:[{pollID:e.pollID,pollName:e.pollName,pollDescription:e.pollDescription,deadline:e.deadline,isFinished:e.isFinished}]};m.push(t)}})),y=0;y<m.length;y++)for(_=y+1;_<m.length;_++)m[y].groupName===m[_].groupName&&(m[_]="");(v=m.filter((function(e){return""!==e}))).forEach((function(e){for(var t=0;t<e.polls.length;t++)for(var n=t+1;n<e.polls.length;n++)e.polls[t].pollID===e.polls[n].pollID&&(e.polls[n]="");e.polls=e.polls.filter((function(e){return""!==e}))})),r({type:G,payload:v}),n.next=35;break;case 32:n.prev=32,n.t0=n.catch(0),r({type:q,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 35:case"end":return n.stop()}}),n,null,[[0,32]])})));return function(e){return n.apply(this,arguments)}}()}(n.id,s))}),[e,n,s]),Object(B.jsx)(B.Fragment,{children:g||a?Object(B.jsx)(M,{}):p?Object(B.jsxs)("h2",{children:["B\u0142\u0105d: ",p]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h3",{style:{textAlign:"center"},children:"Nale\u017cysz do grup:"}),Object(B.jsx)(Se,{groups:s}),Object(B.jsx)(ve,{polls:x})]})})},ke=n(22),Le=n.n(ke),Ie=n.p+"static/media/about-1.a9afc77f.jpeg",Ne=n.p+"static/media/about-2.8f11309b.jpeg",Re=function(){return Object(B.jsxs)("div",{className:Le.a.about,children:[Object(B.jsxs)("div",{className:Le.a["about-1"],children:[Object(B.jsx)("p",{className:Le.a["about-text-1"],children:"Zapoznaj si\u0119 z opini\u0105 innych na wybrany przez ciebie temat lub wyra\u017a swoj\u0105 opini\u0119 wype\u0142niaj\u0105c utworzone przez innych u\u017cytkownik\xf3w ankiety."}),Object(B.jsx)("div",{className:Le.a["about-image-1"],children:Object(B.jsx)("img",{src:Ie,alt:"about1"})}),Object(B.jsx)("p",{className:Le.a["about-text-2"],children:"Ankiety mog\u0105 zawiera\u0107 pytania jedno/wielo-krotnego wyboru, odpowiedzi w formie kr\xf3tkiej wypowiedzi pisemnej, a tak\u017ce i obrazki."}),Object(B.jsxs)("div",{className:Le.a["about-text"],children:[Object(B.jsx)("p",{className:Le.a["about-text-p1"],children:"Zapoznaj si\u0119 z opini\u0105 innych na wybrany przez ciebie temat lub wyra\u017a swoj\u0105 opini\u0119 wype\u0142niaj\u0105c utworzone przez innych u\u017cytkownik\xf3w ankiety."}),Object(B.jsx)("p",{className:Le.a["about-text-p2"],children:"Ankiety mog\u0105 zawiera\u0107 pytania jedno/wielo-krotnego wyboru, odpowiedzi w formie kr\xf3tkiej wypowiedzi pisemnej, a tak\u017ce i obrazki."})]})]}),Object(B.jsxs)("div",{className:Le.a["about-2"],children:[Object(B.jsx)("p",{className:Le.a["about-text-1"],children:"Jako autor ankiety masz dost\u0119p do danych zebranych podczas udzielania odpowiedzi przez innych u\u017cytkownik\xf3w."}),Object(B.jsx)("div",{className:Le.a["about-image-2"],children:Object(B.jsx)("img",{src:Ne,alt:"about2"})}),Object(B.jsx)("p",{className:Le.a["about-text-2"],children:"Dane te s\u0105 przedstawiane w postaci generowanych raport\xf3w, z kt\xf3rych wynika m.in jak\u0105 odpowied\u017a na dane pytanie wybra\u0142a wi\u0119kszo\u015b\u0107 os\xf3b."}),Object(B.jsxs)("div",{className:Le.a["about-text"],children:[Object(B.jsx)("p",{className:Le.a["about-text-p1"],children:"Jako autor ankiety masz dost\u0119p do danych zebranych podczas udzielania odpowiedzi przez innych u\u017cytkownik\xf3w."}),Object(B.jsx)("p",{className:Le.a["about-text-p2"],children:"Dane te s\u0105 przedstawiane w postaci generowanych raport\xf3w, z kt\xf3rych wynika m.in jak\u0105 odpowied\u017a na dane pytanie wybra\u0142a wi\u0119kszo\u015b\u0107 os\xf3b."})]})]})]})},De=n(80),Pe=n.n(De),Ae=function(){return Object(B.jsx)("header",{children:Object(B.jsx)("div",{className:Pe.a["header-container"],children:Object(B.jsx)("div",{className:Pe.a["header-content"],children:Object(B.jsx)("h1",{children:"Tworzenie w\u0142asnych ankiet z mo\u017cliwo\u015bci\u0105 generowania raport\xf3w"})})})})},Te=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Ae,{}),Object(B.jsx)(Re,{})]})},Ue=n(3),ze=n(152),Fe=n(96),Ge=n(2),qe="SENT_ANSWER_FROM_USER_REQUEST",Qe="SENT_ANSWER_FROM_USER_SUCCESS",We="SENT_ANSWER_FROM_USER_FAIL",Be="ANSWER_BY_POLL_ID_REQUEST",Me="ANSWER_BY_POLL_ID_SUCCESS",Ze="ANSWER_BY_POLL_ID_FAIL",Je="ANSWER_BY_POLL_ID_RESET",Ye="ANSWER_QUESTION_CREATE_POLL_REQUEST",He="ANSWER_QUESTION_CREATE_POLL_SUCCESS",Ve="ANSWER_QUESTION_CREATE_POLL_FAIL",Ke="ANSWER_QUESTION_CREATE_POLL_RESET",Xe="QUESTIONS_ANSWERS_CREATE_POLL_REQUEST",$e="QUESTIONS_ANSWERS_CREATE_POLL_SUCCESS",et="QUESTIONS_ANSWERS_CREATE_POLL_FAIL",tt="QUESTIONS_ANSWERS_CREATE_POLL_RESET",nt=n(28),rt=n.n(nt),at=function(e){var t=e.poll,n=Object(i.t)(),r=t.poll_info,a=t.questions_answers,s=Object(i.w)().pollId,l=[],p=Object(c.b)(),h=Object(o.useState)(function(){var e=[];return a.forEach((function(t){if(t.type.is_multi_choice){t.answers.forEach((function(e){return l.push(e)})),e.push([])}else e.push({})})),e}()),O=Object(Ue.a)(h,2),f=O[0],x=O[1],g=function(e,t,n){switch(e){case"is_single_choice":if(!t.length)return;return t.map((function(e){return Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"radio",id:e.id,required:!0,value:e.answer_text,label:e.answer_text,name:"poll-option"})},e.id)}));case"is_multi_choice":if(!t.length)return;return t.map((function(e){return Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"checkbox",id:e.id,value:e.answer_text,label:e.answer_text})},e.id)}));case"is_open":return Object(B.jsx)(Fe.a,{controlId:"floatingTextarea2",children:Object(B.jsx)(ze.a.Control,{required:!0,id:t[0].id,name:"answer-open",as:"textarea",placeholder:"Wpisz swoj\u0105 odpowied\u017a",style:{height:"100px"}})},t[0].id);case"is_date_choice":return Object(B.jsx)(ze.a.Control,{type:"date",required:!0,id:t[0].id},t[0].id);default:return}},m=a.map((function(e,t){var n=function(e){for(var t=0,n=Object.entries(e.type);t<n.length;t++){var r=Object(Ue.a)(n[t],2),a=r[0];if(r[1])return a}}(e);return Object(B.jsx)("div",{className:rt.a["poll-question"],children:Object(B.jsxs)("div",{className:rt.a["poll-question-content"],children:[Object(B.jsx)("p",{children:e.question_text}),Object(B.jsx)("div",{className:rt.a["question-content"],children:Object(B.jsx)("div",{onChange:function(e){return function(e,t){var n=Object(Z.a)(f);if("radio"===e.target.type){var r=e.target,a={type:"radio",value:r.value,id:r.id};n[t]=a}else if("checkbox"===e.target.type){var s=e.target.checked,c={type:"checkbox",id:e.target.id,value:e.target.value};s?l.forEach((function(e,r){e.id===+c.id&&(n[t][r]=c)})):l.forEach((function(e,r){e.id===+c.id&&(n[t]=n[t].filter((function(e){return e.id!==c.id})),n[t]=n[t].filter((function(e){return e})))}))}else if("textarea"===e.target.type){var i=e.target,o={type:"textarea",value:i.value,id:i.id};n[t]=o}else if("date"===e.target.type){var u=e.target,d={type:"date",value:u.value,id:u.id};n[t]=d}x(n)}(e,t)},className:rt.a.answers,children:g(n,e.answers)})})]})},e.ID)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:rt.a["sub-nav"],children:Object(B.jsx)("h2",{children:r.poll_name})}),Object(B.jsxs)(ze.a,{onSubmit:function(e){e.preventDefault();var t=function(){var e=!1;return f.forEach((function(t){(Array.isArray(t)&&0===t.length||0===Object.keys(t).length)&&(e=!0)})),e}();if(f.forEach((function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t.push(e)})),e.length=0,t.forEach((function(t){e.push(t)})),e=[].concat(t)}})),t)throw new Error("Error with form!");p(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r,a){var s,c,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:qe}),s=a(),c=s.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},n.next=6,j.a.put("".concat(b,"/api/polls/").concat(t,"/finished-poll"),e,i);case 6:r({type:Qe}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:We,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(f,s)),n("/polls/".concat(s,"/finished-poll"))},className:rt.a["poll-container"],children:[m,Object(B.jsx)(X,{type:"submit",style:"margin: 0 auto",children:"Wy\u015blij formularz"})]})]})},st=function(){var e=Object(c.b)(),t=Object(i.t)(),n=Object(i.w)().pollId,r=Object(c.c)((function(e){return e.userLogin})).userInfo,a=Object(c.c)((function(e){return e.pollForm})).poll;return Object(o.useEffect)((function(){r?n&&e(xe(n)):t("/login")}),[e,t,r,n]),Object(B.jsx)(B.Fragment,{children:0===Object.keys(a).length?Object(B.jsx)(M,{}):Object(B.jsx)(at,{poll:a})})},ct="USER_LOGIN_REQUEST",it="USER_LOGIN_SUCCESS",ot="USER_LOGIN_FAIL",lt="USER_LOGOUT",ut="USER_REGISTER_REQUEST",dt="USER_REGISTER_SUCCESS",pt="USER_REGISTER_FAIL",jt="USER_DETAILS_REQUEST",bt="USER_DETAILS_SUCCESS",ht="USER_DETAILS_FAIL",Ot="USER_DETAILS_RESET",ft="USER_UPDATE_PROFILE_REQUEST",xt="USER_UPDATE_PROFILE_SUCCESS",gt="USER_UPDATE_PROFILE_FAIL",mt="USER_UPDATE_PROFILE_RESET",yt="USER_LIST_REQUEST",_t="USER_LIST_SUCCESS",vt="USER_LIST_FAIL",wt="USER_LIST_RESET",Et="USER_DELETE_REQUEST",St="USER_DELETE_SUCCESS",Ct="USER_DELETE_FAIL",kt="USER_UPDATE_REQUEST",Lt="USER_UPDATE_SUCCESS",It="USER_UPDATE_FAIL",Nt="USER_UPDATE_RESET",Rt=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:jt}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.get("".concat(b,"/api/users/").concat(e,"/"),c);case 6:i=t.sent,o=i.data,n({type:bt,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:ht,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},Dt=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a,s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:yt}),r=n(),a=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,j.a.get("".concat(b,"/api/users/"),s);case 6:c=e.sent,i=c.data,t({type:_t,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:vt,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},Pt=Object(o.forwardRef)((function(e,t){var n=e.input,r=e.label,a=e.onChange;return Object(B.jsxs)("div",{children:[r&&Object(B.jsx)("label",{htmlFor:n.id,children:r}),Object(B.jsx)("input",Object(Ge.a)({onChange:a,ref:t},n))]})})),At=n(43),Tt=n.n(At),Ut=function(){var e=Object(i.t)(),t=Object(o.useState)(""),n=Object(Ue.a)(t,2),r=n[0],a=n[1],l=Object(o.useRef)(),p=Object(o.useRef)(),h=Object(c.b)(),O=Object(c.c)((function(e){return e.userLogin})),f=O.loading,x=O.error,g=O.userInfo;Object(o.useEffect)((function(){g&&g.isAdmin?e("/admin/userlist",{replace:!0}):g&&e("/polls",{replace:!0})}),[e,g,h]);return Object(B.jsx)("div",{className:Tt.a["page-container-login"],children:Object(B.jsxs)("div",{className:Tt.a.form,children:[Object(B.jsx)("div",{className:Tt.a["form-content"],children:f?Object(B.jsx)(M,{}):x?Object(B.jsxs)("h2",{children:["B\u0142\u0105d: ",x]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h2",{children:"Logowanie"}),Object(B.jsxs)("form",{onSubmit:function(e){var t,n;if(e.preventDefault(),h((t=l.current.value,n=p.current.value,function(){var e=Object(d.a)(u.a.mark((function e(r){var a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ct}),a={headers:{"Content-type":"application/json"}},e.next=5,j.a.post("".concat(b,"/api/users/login/"),{username:t,password:n},a);case 5:s=e.sent,c=s.data,r({type:it,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:ot,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),x&&"No active account found with the given credentials"===x){a("Nie ma takiego konta!")}},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(B.jsx)(Pt,{ref:l,input:{id:"email",type:"email",placeholder:"Podaj email"}}),Object(B.jsx)(Pt,{ref:p,input:{id:"password",type:"password",placeholder:"Podaj has\u0142o"}}),Object(B.jsx)(X,{type:"submit",disabled:!1,children:"Zaloguj si\u0119"})]})]})}),r&&Object(B.jsx)("p",{className:Tt.a.error,children:r}),Object(B.jsxs)("div",{className:Tt.a.info,children:[Object(B.jsx)("p",{children:"Nie masz konta ?"}),Object(B.jsx)(s.NavLink,{className:Tt.a.info,to:"/register",children:"Zarejestruj si\u0119!"})]})]})})},zt=function(){return Object(B.jsx)(Ut,{})},Ft=n(44),Gt=n.n(Ft),qt=function(){var e=Object(o.useState)(""),t=Object(Ue.a)(e,2),n=t[0],r=t[1],a=Object(i.t)(),l=Object(i.r)(),p=Object(o.useRef)(),h=Object(o.useRef)(),O=Object(o.useRef)(),f=Object(o.useRef)(),x=Object(c.b)(),g=l.search?l.search.split("=")[1]:"/",m=Object(c.c)((function(e){return e.userRegister})),y=m.loading,_=m.error,v=m.userInfo;Object(o.useEffect)((function(){v&&a(g,{replace:!0})}),[a,v,g]);return Object(B.jsx)("div",{className:Gt.a["page-container-login"],children:Object(B.jsxs)("div",{className:Gt.a.form,children:[Object(B.jsx)("div",{className:Gt.a["form-content"],children:y?Object(B.jsx)(M,{}):_?Object(B.jsxs)("h2",{children:["B\u0142\u0105d: ",_]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h2",{children:"Rejestracja"}),Object(B.jsxs)("form",{onSubmit:function(e){var t,n,a;e.preventDefault(),p.current.value&&h.current.value&&O.current.value&&f.current.value?O.current.value!==f.current.value?r("Has\u0142a nie pasuj\u0105 do siebie!"):x((t=p.current.value,n=h.current.value,a=O.current.value,function(){var e=Object(d.a)(u.a.mark((function e(r){var s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ut}),s={headers:{"Content-type":"application/json"}},e.next=5,j.a.post("".concat(b,"/api/users/register/"),{name:t,email:n,password:a},s);case 5:c=e.sent,i=c.data,r({type:dt,payload:i}),r({type:it,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({type:pt,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())):r("Prosz\u0119 wype\u0142ni\u0107 pola!")},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(B.jsx)(Pt,{ref:p,input:{id:"name",type:"text",placeholder:"Podaj imie"}}),Object(B.jsx)(Pt,{ref:h,input:{id:"email",type:"email",placeholder:"Podaj email"}}),Object(B.jsx)(Pt,{ref:O,input:{id:"password",type:"password",placeholder:"Podaj has\u0142o"}}),Object(B.jsx)(Pt,{ref:f,input:{id:"password2",type:"password",placeholder:"Powt\xf3rz has\u0142o"}}),Object(B.jsx)(X,{type:"submit",disabled:!1,children:"Zarejestruj si\u0119"})]})]})}),n&&Object(B.jsx)("p",{className:Gt.a.error,children:n}),Object(B.jsxs)("div",{className:Gt.a.info,children:[Object(B.jsx)("p",{children:"Masz ju\u017c konto ?"}),Object(B.jsx)(s.NavLink,{className:Gt.a.info,to:"/login",children:"Zaloguj si\u0119!"})]})]})})},Qt=function(){return Object(B.jsx)(qt,{})},Wt=n(63),Bt=n.n(Wt),Mt=function(){var e=Object(i.t)(),t=Object(o.useState)(""),n=Object(Ue.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),l=Object(Ue.a)(s,2),p=l[0],h=l[1],O=Object(o.useState)(""),f=Object(Ue.a)(O,2),x=f[0],g=f[1],m=Object(o.useState)(""),y=Object(Ue.a)(m,2),_=y[0],v=y[1],w=Object(o.useState)(""),E=Object(Ue.a)(w,2),S=E[0],C=E[1],k=Object(c.b)(),L=Object(c.c)((function(e){return e.userDetails})),I=L.loading,N=L.error,R=L.user,D=Object(c.c)((function(e){return e.userLogin})).userInfo,P=Object(c.c)((function(e){return e.userUpdateProfile})).success;Object(o.useEffect)((function(){D?R&&R.name&&!P?(a(R.name),h(R.email)):(k({type:mt}),k(Rt("profile"))):e("/login")}),[e,D,k,R,P]);return Object(B.jsx)("div",{className:Bt.a["page-container-login"],children:Object(B.jsxs)("div",{className:Bt.a.form,children:[Object(B.jsx)("div",{className:Bt.a["form-content"],children:I?Object(B.jsx)(M,{}):N?Object(B.jsxs)("h2",{children:["B\u0142\u0105d: ",N]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h2",{children:"Twoje konto"}),Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x!==_?C("Has\u0142a nie pasuj\u0105 do siebie!"):(k(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:ft}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.put("".concat(b,"/api/users/profile/update/"),e,c);case 6:i=t.sent,o=i.data,n({type:xt,payload:o}),n({type:it,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:gt,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:R.id,name:r,email:p,password:x})),C("Dane zosta\u0142y zmienione!"))},children:[Object(B.jsx)(Pt,{input:{id:"name",type:"text",placeholder:"Podaj imie",value:r,onChange:function(e){return a(e.target.value)}}}),Object(B.jsx)(Pt,{input:{id:"email",type:"email",placeholder:"Podaj email",value:p,onChange:function(e){return h(e.target.value)}}}),Object(B.jsx)(Pt,{input:{id:"password",type:"password",placeholder:"Podaj has\u0142o",value:x,onChange:function(e){return g(e.target.value)}}}),Object(B.jsx)(Pt,{input:{id:"password2",type:"password",placeholder:"Powt\xf3rz has\u0142o",value:_,onChange:function(e){return v(e.target.value)}}}),Object(B.jsx)(X,{type:"submit",disabled:!1,className:"button",children:"Zaktualizuj"})]})]})}),S&&Object(B.jsx)("p",{className:Bt.a.error,children:S})]})})},Zt=function(){return Object(B.jsx)(Mt,{})},Jt=function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:"Dzi\u0119kujemy za wype\u0142nienie ankiety! Mo\u017cesz teraz wr\xf3ci\u0107 do wyboru dost\u0119pnych ankiet."}),Object(B.jsx)($.LinkContainer,{to:"/polls",children:Object(B.jsx)(X,{children:"Moje ankiety"})})]})},Yt=function(){return Object(B.jsx)(Jt,{})},Ht=function(e){var t=e.poll,n=t.poll_info,r=t.questions_answers,a=function(e,t,n){switch(e){case"is_single_choice":if(!t.length)return;return t.map((function(e){return e.isMarked?Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"radio",id:e.id,required:!0,value:e.answer_text,label:e.answer_text,name:"poll-option",disabled:!0,checked:!0})},e.id):Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"radio",id:e.id,required:!0,value:e.answer_text,label:e.answer_text,name:"poll-option",disabled:!0})},e.id)}));case"is_multi_choice":if(!t.length)return;return t.map((function(e){return e.isMarked?Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"checkbox",name:e.answer_text,id:e.id,value:e.answer_text,label:e.answer_text,disabled:!0,checked:!0})},e.id):Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsx)(ze.a.Check,{type:"checkbox",name:e.answer_text,id:e.id,value:e.answer_text,label:e.answer_text,disabled:!0})},e.id)}));case"is_open":return Object(B.jsx)(Fe.a,{controlId:"floatingTextarea2",children:Object(B.jsx)(ze.a.Control,{id:t[0].id,value:t[0].openAnswer,disabled:!0,as:"textarea",style:{height:"100px"}})},t[0].id);case"is_date_choice":return Object(B.jsx)(ze.a.Control,{type:"date",name:"answer-date",disabled:!0,value:t[0].dateAnswer,id:t[0].id},t[0].id);default:return}},s=r.map((function(e,t){var n=function(e){for(var t=0,n=Object.entries(e.type);t<n.length;t++){var r=Object(Ue.a)(n[t],2),a=r[0];if(r[1])return a}}(e);return Object(B.jsx)("div",{className:rt.a["poll-question"],children:Object(B.jsxs)("div",{className:rt.a["poll-question-content"],children:[Object(B.jsx)("p",{children:e.question_text}),Object(B.jsx)("div",{className:rt.a["question-content"],children:Object(B.jsx)("div",{className:rt.a.answers,children:a(n,e.answers)})})]})},e.ID)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:rt.a["sub-nav"],children:Object(B.jsx)("h2",{children:n.poll_name})}),Object(B.jsxs)("div",{className:rt.a["poll-container"],children:[s,Object(B.jsx)($.LinkContainer,{to:"/polls",children:Object(B.jsx)(X,{children:"Wr\xf3\u0107 do wszystkich ankiet"})})]})]})},Vt=function(){var e=Object(i.w)().pollId,t=Object(i.t)(),n=Object(c.b)(),r=Object(c.c)((function(e){return e.userLogin})).userInfo,a=Object(c.c)((function(e){return e.pollForm})).poll;return Object(o.useEffect)((function(){r?e&&n(xe(e)):t("/login")}),[n,t,r,e]),Object(B.jsx)(B.Fragment,{children:0===Object.keys(a).length?Object(B.jsx)(M,{}):Object(B.jsx)(Ht,{poll:a})})},Kt=n(153),Xt=n(97),$t=n(81),en=n.n($t),tn=function(){var e=Object(o.useState)(!1),t=Object(Ue.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),s=Object(Ue.a)(a,2),i=s[0],l=s[1],p=Object(o.useState)(!1),j=Object(Ue.a)(p,2),b=j[0],h=j[1],O=Object(o.useState)([]),f=Object(Ue.a)(O,2),x=f[0],g=f[1],m=Object(o.useRef)(),y=Object(o.useRef)(),_=Object(o.useRef)(),v=Object(c.b)(),w=Object(c.c)((function(e){return e.allGroupList})),E=w.groups,S=w.loading;Object(o.useEffect)((function(){v(z())}),[v]);var C=function(e){var t=Object(Z.a)(x),n=e.target,r=n.value,a=n.id,s=t.findIndex((function(e){return e.ID===a}));if(-1===s){var c={ID:a,group_name:r};t.push(c)}else t.splice(s,1);g(t),function(e){-1!==e.findIndex((function(e){return"Wszyscy"===e.group_name}))?(l(!0),h(!1)):e.length?(h(!0),l(!1)):(l(!1),h(!1))}(t)};return Object(B.jsx)(B.Fragment,{children:S?Object(B.jsx)(M,{}):Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(Kt.a,{children:[Object(B.jsxs)(Kt.a.Body,{children:[Object(B.jsx)(ze.a.Group,{className:"mb-3",controlId:"formPollName",children:Object(B.jsx)(ze.a.Control,{required:!0,type:"text",placeholder:"Nazwa ankiety",disabled:n,ref:m})}),Object(B.jsx)(ze.a.Group,{children:Object(B.jsx)(ze.a.Control,{required:!0,disabled:n,name:"answer-open",as:"textarea",ref:y,placeholder:"Opis...",style:{height:"100px"}})}),Object(B.jsx)(ze.a.Group,{style:{marginTop:"10px"},children:E.map((function(e){return"Wszyscy"===e.group_name?Object(B.jsx)(ze.a.Check,{inline:!0,onChange:C,disabled:n||b,type:"checkbox",name:e.group_name,id:e.ID,value:e.group_name,label:e.group_name},e.ID):Object(B.jsx)(ze.a.Check,{inline:!0,onChange:C,disabled:n||i,type:"checkbox",name:e.group_name,id:e.ID,value:e.group_name,label:e.group_name},e.ID)}))}),Object(B.jsx)(ze.a.Group,{style:{marginTop:"10px"},children:Object(B.jsx)(ze.a.Control,{disabled:n,ref:_,type:"datetime-local",name:"date-deadline",id:"date-deadline",min:(new Date).toISOString().split(".")[0]})})]}),n?Object(B.jsx)("div",{className:en.a["poll-description-menu"],children:Object(B.jsx)(Xt.a,{variant:"primary",type:"button",onClick:function(){r(!1)},children:"Edytuj"})}):Object(B.jsx)("div",{className:en.a["poll-description-menu"],children:Object(B.jsx)(Xt.a,{variant:"success",type:"button",onClick:function(){var e=m.current.value,t=y.current.value,n=_.current.value;v(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:de}),n({type:pe,payload:e})}catch(r){n({type:je,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({pollName:e,pollDescription:t,groupList:x,pollDeadline:n})),r(!0)},children:"Zapisz"})})]})})})},nn=n(82),rn=n.n(nn),an=function(e){var t=e.typeAnswer,n=e.id,r=e.isSaved,a=e.onRemoveOptionAnswer,s=Object(o.useState)(""),i=Object(Ue.a)(s,2),l=i[0],p=i[1],j=Object(c.b)(),b=Object(c.c)((function(e){return e.answersCreatePoll})).answersQuestion,h=Object(o.useCallback)((function(e){var t=e.target.value;p(t)}),[]),O=Object(o.useCallback)((function(){""!==l&&j(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var a,s,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:Ye}),a={},s=0,(c=Object(Z.a)(t)).forEach((function(t,n){t.id===e.id&&(a=Object(Ge.a)({},t),s=n)})),a.id===e.id?c[s].answerText=e.answerText:c.push(e),r({type:He,payload:c})}catch(i){r({type:Ve,payload:i.response&&i.response.data.message?i.response.data.message:i.message})}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}({id:n,answerText:l},b))}),[l,b,j,n]),f=Object(o.useState)(null),x=Object(Ue.a)(f,2),g=x[0],m=x[1],y=Object(o.useCallback)((function(){var e=null;switch(!0){case t.isSingleChoice:e=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(ze.a.Label,{style:{display:"flex",margin:"20px 0"},children:[Object(B.jsx)(ze.a.Check,{style:{display:"flex",alignItems:"center"},type:"radio",disabled:!0}),r?Object(B.jsx)(ze.a.Control,{style:{height:"100%"},disabled:!0,onBlur:O,onChange:h,value:l,type:"text",placeholder:"Odpowied\u017a"}):Object(B.jsx)(ze.a.Control,{style:{height:"100%",marginLeft:"10px"},onBlur:O,onChange:h,value:l,type:"text",placeholder:"Odpowied\u017a"})]}),Object(B.jsx)(Xt.a,{style:{width:"20%"},type:"button",variant:"danger",onClick:function(){return a(n)},children:"Usu\u0144 opcj\u0119"})]});break;case t.isMultiChoice:e=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(ze.a.Label,{style:{display:"flex",margin:"20px 0"},children:[Object(B.jsx)(ze.a.Check,{style:{display:"flex",alignItems:"center"},type:"checkbox",disabled:!0}),r?Object(B.jsx)(ze.a.Control,{style:{height:"100%"},disabled:!0,onBlur:O,onChange:h,value:l,type:"text",placeholder:"Odpowied\u017a"}):Object(B.jsx)(ze.a.Control,{style:{height:"100%",marginLeft:"10px"},onBlur:O,onChange:h,value:l,type:"text",placeholder:"Odpowied\u017a"})]}),Object(B.jsx)(Xt.a,{style:{width:"20%"},type:"button",variant:"danger",onClick:function(){return a(n)},children:"Usu\u0144 opcj\u0119"})]});break;case t.isOpen:e=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ze.a.Control,{as:"textarea",disabled:!0,style:{margin:"20px 0"}}),Object(B.jsx)(Xt.a,{style:{width:"20%"},type:"button",variant:"danger",onClick:function(){return a(n)},children:"Usu\u0144 opcj\u0119"})]});break;case t.isDateChoice:e=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ze.a.Control,{disabled:!0,type:"date",style:{margin:"20px 0"}}),Object(B.jsx)(Xt.a,{style:{width:"20%"},type:"button",variant:"danger",onClick:function(){return a(n)},children:"Usu\u0144 opcj\u0119"})]});break;default:e=null}m(e)}),[t,l,O,h,r,a,n]);return Object(o.useEffect)((function(){y()}),[y]),Object(B.jsx)(B.Fragment,{children:g})},sn=n(45),cn=n.n(sn),on=function(e){var t=e.id,n=e.onRemoveQuestionWithAnswers,r=Object(c.b)(),a=Object(o.useState)(!1),s=Object(Ue.a)(a,2),i=s[0],l=s[1],p=Object(c.c)((function(e){return e.answersCreatePoll})).answersQuestion,j=Object(c.c)((function(e){return e.allQuestionsAnswersCreatePoll})).questionsAnswers,b=Object(o.useState)({isSingleChoice:!0,isMultiChoice:!1,isOpen:!1,isDateChoice:!1}),h=Object(Ue.a)(b,2),O=h[0],f=h[1],x=Object(o.useState)(""),g=Object(Ue.a)(x,2),m=g[0],y=g[1],_=Object(o.useState)([]),v=Object(Ue.a)(_,2),w=v[0],E=v[1],S=Object(o.useRef)(),C=Object(o.useCallback)((function(e){var t=Object(Z.a)(w).filter((function(t){return t.id!==e}));E(t)}),[]),k=Object(o.useCallback)((function(){var e=[];if(O.isSingleChoice||O.isMultiChoice)for(var t=0;t<w.length;t++)e.push(Object(B.jsx)(an,{onRemoveOptionAnswer:C,isSaved:i,id:e.length,typeAnswer:O},e.length));else e.push(Object(B.jsx)(an,{onRemoveOptionAnswer:C,isSaved:i,id:e.length,typeAnswer:O},e.length));E(e)}),[O,i,C,w.length]);Object(o.useEffect)((function(){k()}),[k]);var L=Object(o.useCallback)((function(){var e=Object(Z.a)(w);e.push(Object(B.jsx)(an,{onRemoveOptionAnswer:C,isSaved:i,id:e.length,typeAnswer:O},e.length)),E(e)}),[i,w,O,C]);return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:cn.a["poll-question"],children:[Object(B.jsxs)("div",{className:cn.a["poll-question-content"],children:[i?Object(B.jsx)(ze.a.Control,{disabled:!0,type:"text",placeholder:"Pytanie",ref:S}):Object(B.jsx)(ze.a.Control,{required:!0,type:"text",placeholder:"Pytanie",ref:S}),Object(B.jsx)("div",{className:cn.a["question-content"],children:Object(B.jsx)("div",{className:cn.a.answers,children:w})})]}),i?Object(B.jsxs)("div",{className:cn.a["question-menu"],children:[Object(B.jsx)(Xt.a,{variant:"info",type:"button",onClick:function(){l(!1)},children:"Edytuj"}),Object(B.jsx)(Xt.a,{variant:"danger",type:"button",onClick:function(){return n(t)},children:"Usu\u0144 pytanie"})]}):Object(B.jsxs)("div",{className:cn.a["question-menu"],children:[O.isSingleChoice||O.isMultiChoice?Object(B.jsx)(Xt.a,{variant:"secondary",type:"button",onClick:L,children:"Dodaj opcj\u0119"}):null,Object(B.jsxs)(ze.a.Select,{style:{width:"auto"},onChange:function(e){var t=e.target.value;y(t);var n={};switch(t){case"one":n={isSingleChoice:!0,isMultiChoice:!1,isOpen:!1,isDateChoice:!1};break;case"multi":n={isSingleChoice:!1,isMultiChoice:!0,isOpen:!1,isDateChoice:!1};break;case"open":n={isSingleChoice:!1,isMultiChoice:!1,isOpen:!0,isDateChoice:!1},r({type:Ke});break;case"date":n={isSingleChoice:!1,isMultiChoice:!1,isOpen:!1,isDateChoice:!0},r({type:Ke});break;default:n={isSingleChoice:!1,isMultiChoice:!1,isOpen:!1,isDateChoice:!1}}f(n)},value:m,name:"type-answer",id:"type-answer",children:[Object(B.jsx)("option",{value:"one",children:"Jednokrotny wyb\xf3r"}),Object(B.jsx)("option",{value:"multi",children:"Wielokrotny wyb\xf3r"}),Object(B.jsx)("option",{value:"open",children:"Otwarta odpowied\u017a"}),Object(B.jsx)("option",{value:"date",children:"Data"})]}),Object(B.jsx)(Xt.a,{variant:"success",type:"button",onClick:function(){var e=S.current.value;if(e&&w.length&&(p.length||!O.isSingleChoice&&!O.isMultiChoice)){var n=!1;j.forEach((function(e){e.id===t&&(n=!0)})),l(!0);var a={};a=p.length?{id:t,questionText:e,type:O,answers:p}:{id:t,questionText:e,type:O},r(function(e,t,n){return function(){var r=Object(d.a)(u.a.mark((function r(a){var s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{a({type:Xe}),s=Object(Z.a)(t),n?s.forEach((function(t,n){t.id===e.id&&(s[n]=e)})):s.push(e),a({type:$e,payload:s})}catch(c){a({type:et,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(a,j,n))}},children:"Zapisz"}),Object(B.jsx)(Xt.a,{variant:"danger",type:"button",onClick:function(){return n(t)},children:"Usu\u0144 pytanie"})]})]})})},ln=function(){var e=Object(c.b)(),t=Object(i.t)(),n=Object(c.c)((function(e){return e.pollDescriptionCreatePoll})).pollDescription,r=Object(c.c)((function(e){return e.allQuestionsAnswersCreatePoll})).questionsAnswers,a=Object(o.useState)([]),s=Object(Ue.a)(a,2),l=s[0],p=s[1],h=function(t){var n=Object(Z.a)(l).filter((function(e){return e.id!==t}));p(n),e({type:Ke})};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:rn.a["sub-nav"],children:Object(B.jsx)("h2",{children:"Tworzenie ankiety"})}),Object(B.jsxs)(ze.a,{onSubmit:function(a){a.preventDefault(),n&&l.length&&(e(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var a,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:he}),a={pollDescription:e,questionsAndAnswers:t},s={headers:{"Content-type":"application/json"}},n.next=6,j.a.post("".concat(b,"/api/polls/created-poll"),{newPoll:a},s);case 6:r({type:Oe}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:fe,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,r)),t("/polls/created-poll"))},className:rn.a["poll-container"],children:[Object(B.jsx)(tn,{}),0!==l.length&&l,Object(B.jsxs)(ye.a,{style:{marginTop:"20px"},bordered:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{}),Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:Object(B.jsx)(X,{type:"button",onClick:function(){var t=Object(Z.a)(l);t.push(Object(B.jsx)(on,{id:t.length,onRemoveQuestionWithAnswers:h},t.length)),p(t),e({type:Ke})},children:"Dodaj pytani\u0119"})}),Object(B.jsx)("td",{children:Object(B.jsx)(X,{type:"submit",children:"Opublikuj"})})]})})]})]})]})},un=function(){return Object(B.jsx)(ln,{})},dn=function(){var e=Object(c.c)((function(e){return e.sentPoll})).loading;return Object(B.jsx)(B.Fragment,{children:e?Object(B.jsx)(M,{}):Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:"Ankieta zosta\u0142a utworzona! Ju\u017c teraz, u\u017cytkownicy w poszczeg\xf3lnych grupach b\u0119d\u0105 mogli wype\u0142ni\u0107 dan\u0105 ankiet\u0119. Maile zosta\u0142y wys\u0142ane z powiadomieniem o dost\u0119pno\u015bci tej ankiety."}),Object(B.jsx)(s.Link,{to:"/polls",children:"Moje ankiety"})]})})},pn=function(){return Object(B.jsx)(dn,{})},jn=n(148),bn=function(){var e=Object(o.useState)(""),t=Object(Ue.a)(e,2),n=t[0],r=t[1],a=Object(c.b)(),s=Object(i.t)(),l=Object(c.c)((function(e){return e.userList})),p=l.loading,h=l.error,O=l.users,f=Object(c.c)((function(e){return e.userLogin})).userInfo,x=Object(c.c)((function(e){return e.userDelete})).success;Object(o.useEffect)((function(){f&&f.isAdmin?(a(Dt()),a({type:Ot})):s("/login")}),[a,x,f,s]);var g=function(e){window.confirm("Jeste\u015b pewny, \u017ce chcesz usun\u0105\u0107 tego u\u017cytkownika?")&&a(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Et}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.delete("".concat(b,"/api/users/delete/").concat(e,"/"),c);case 6:i=t.sent,o=i.data,n({type:St,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:Ct,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(B.jsx)(jn.a,{children:Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"U\u017cytkownicy"}),Object(B.jsx)(ze.a.Control,{type:"text",placeholder:"Wyszukaj u\u017cytkownika...",onChange:function(e){var t=e.target.value;r(t)},style:{margin:"20px 0"}}),p?Object(B.jsx)(M,{}):h?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",h]}):Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"IMI\u0118"}),Object(B.jsx)("th",{children:"EMAIL"}),Object(B.jsx)("th",{children:"ADMIN"}),Object(B.jsx)("th",{children:"GRUPA"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:O.filter((function(e){return""==n||e.user.email.toLowerCase().includes(n.toLowerCase())?e:void 0})).map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.user.id}),Object(B.jsx)("td",{children:e.user.name}),Object(B.jsx)("td",{children:e.user.email}),Object(B.jsx)("td",{children:e.user.isAdmin?Object(B.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(B.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(B.jsx)("td",{children:e.groups.map((function(e){return Object(B.jsx)("p",{children:"Wszyscy"!==e.group_name&&e.group_name},e.ID)}))}),Object(B.jsxs)("td",{children:[Object(B.jsx)($.LinkContainer,{to:"/admin/user/".concat(e.user.id,"/edit"),children:Object(B.jsx)(Xt.a,{variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-edit"})})}),Object(B.jsx)(Xt.a,{variant:"danger",className:"btn-sm",onClick:function(){return g(e.user.id)},children:Object(B.jsx)("i",{className:"fas fa-trash"})})]})]},e.user.id)}))})]})]})})},hn=n(149),On=n(95);var fn=function(e){var t=e.children;return Object(B.jsx)(jn.a,{children:Object(B.jsx)(hn.a,{className:"justify-content-md-center",children:Object(B.jsx)(On.a,{xs:12,md:6,children:t})})})};var xn=function(){var e=Object(i.w)().id,t=Object(i.t)(),n=Object(o.useState)(""),r=Object(Ue.a)(n,2),a=r[0],l=r[1],p=Object(o.useState)(""),h=Object(Ue.a)(p,2),O=h[0],f=h[1],x=Object(o.useState)(!1),g=Object(Ue.a)(x,2),m=g[0],y=g[1],_=Object(o.useState)([]),v=Object(Ue.a)(_,2),w=v[0],E=v[1],S=Object(c.b)(),C=Object(c.c)((function(e){return e.userDetails})),k=C.error,L=C.loading,I=C.user,N=Object(c.c)((function(e){return e.allGroupList})),R=N.loading,D=N.groups,P=Object(c.c)((function(e){return e.userUpdate})),A=P.error,T=P.loading,U=P.success,F=Object(o.useCallback)((function(e){var t=Object(Z.a)(e),n=Object(Z.a)(D),r=!1;t.length||(r=!0);var a=[];n.forEach((function(e){if(r&&"Wszyscy"!==e.group_name){var n={ID:e.ID,group_name:e.group_name,isBelong:!1};a.push(n)}t.forEach((function(t){if("Wszyscy"!==e.group_name)if(e.ID===t.ID){var n={ID:t.ID,group_name:t.group_name,isBelong:!0};a.push(n)}else{var r={ID:e.ID,group_name:e.group_name,isBelong:!1};a.push(r)}}))}));for(var s=0;s<a.length;s++)for(var c=s+1;c<a.length;c++)a[s].ID===a[c].ID&&(a[s].isBelong?a.splice(c,1):a.splice(s,1));E(a)}),[JSON.stringify(D)]);return Object(o.useEffect)((function(){S(z())}),[S]),Object(o.useEffect)((function(){if(U)S({type:Nt}),t("/admin/userlist");else if(I.userInfo&&I.userInfo.id===Number(e)){l(I.userInfo.name),f(I.userInfo.email),y(I.userInfo.isAdmin);var n=I.groups.filter((function(e){return"Wszyscy"!==e.group_name}));E(n),"undefined"!==typeof D&&D.length&&F(n)}else S(Rt(e))}),[I,e,U,S,t,JSON.stringify(D)]),Object(B.jsxs)("div",{children:[Object(B.jsx)(s.Link,{to:"/admin/userlist",children:"Powr\xf3t"}),Object(B.jsxs)(fn,{children:[Object(B.jsx)("h1",{children:"Edycja u\u017cytkownika"}),T&&Object(B.jsx)(M,{}),A&&Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",A]}),L&&R?Object(B.jsx)(M,{}):k?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",k]}):Object(B.jsxs)(ze.a,{onSubmit:function(e){e.preventDefault(),S(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:kt}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.put("".concat(b,"/api/users/update/").concat(e.id,"/"),e,c);case 6:i=t.sent,o=i.data,n({type:Lt}),n({type:bt,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:It,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:I.userInfo.id,name:a,userGroups:w,email:O,isAdmin:m}))},children:[Object(B.jsxs)(ze.a.Group,{controlId:"name",children:[Object(B.jsx)(ze.a.Label,{children:"Imi\u0119"}),Object(B.jsx)(ze.a.Control,{type:"name",placeholder:"Wpisz imi\u0119",value:a,onChange:function(e){return l(e.target.value)}})]}),Object(B.jsxs)(ze.a.Group,{controlId:"email",children:[Object(B.jsx)(ze.a.Label,{children:"Adres email"}),Object(B.jsx)(ze.a.Control,{type:"email",placeholder:"Wpisz email",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(B.jsx)(ze.a.Group,{controlId:"isadmin",children:Object(B.jsx)(ze.a.Check,{type:"checkbox",label:"Admin",checked:m,onChange:function(e){return y(e.target.checked)}})}),Object(B.jsx)(ze.a.Label,{children:"Wszystkie grupy"}),Object(B.jsx)(ze.a.Group,{controlId:"groups",children:w.length?w.map((function(e){return Object(B.jsx)(ze.a.Check,{id:e.ID,type:"checkbox",value:e.group_name,label:e.group_name,checked:e.isBelong,onChange:function(e){return function(e){var t=e.target,n=t.checked,r=t.id,a=Object(Z.a)(w),s=a.findIndex((function(e){return e.ID===parseInt(r,10)}));a[s].isBelong=n,E(a)}(e)}},e.ID)})):Object(B.jsx)(M,{})}),Object(B.jsx)(Xt.a,{type:"submit",variant:"primary",children:"Zaktualizuj"})]})]})]})};var gn=function(){var e=Object(c.b)(),t=Object(i.t)(),n=Object(o.useState)(""),r=Object(Ue.a)(n,2),a=r[0],s=r[1],l=Object(c.c)((function(e){return e.allGroupList})),p=l.loading,h=l.error,O=l.groups,f=Object(c.c)((function(e){return e.userList})),x=f.loading,g=f.users,m=Object(c.c)((function(e){return e.groupDelete})),y=m.loading,_=m.error,v=m.success,w=Object(c.c)((function(e){return e.userLogin})).userInfo;Object(o.useEffect)((function(){w.isAdmin||t("/login"),e(z()),e(Dt())}),[e,w,t,v]);var E=function(t){window.confirm("Jeste\u015b pewny, \u017ce chcesz usun\u0105\u0107 t\u0119 grup\u0119?")&&e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:A}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.delete("".concat(b,"/api/groups/delete/").concat(e,"/"),c);case 6:n({type:T}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:U,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))};return Object(B.jsx)(jn.a,{children:Object(B.jsxs)("div",{children:[Object(B.jsxs)(hn.a,{className:"align-items-center",children:[Object(B.jsx)(On.a,{children:Object(B.jsx)("h1",{children:"Grupy"})}),Object(B.jsx)(On.a,{className:"text-right",children:Object(B.jsxs)(Xt.a,{className:"my-3",onClick:function(){t("/admin/group/create")},children:[Object(B.jsx)("i",{className:"fas fa-plus"})," Stw\xf3rz grup\u0119"]})}),Object(B.jsx)(ze.a.Control,{type:"text",placeholder:"Wyszukaj grup\u0119...",onChange:function(e){return s(e.target.value)},style:{margin:"20px 0"}})]}),y&&Object(B.jsx)(M,{}),_&&Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",_]}),p||x?Object(B.jsx)(M,{}):h?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",h]}):Object(B.jsx)("div",{children:Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"NAZWA"}),Object(B.jsx)("th",{children:"U\u017bYTKOWNICY"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:O.filter((function(e){return""==a||e.group_name.toLowerCase().includes(a.toLowerCase())?e:void 0})).map((function(e){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.ID}),Object(B.jsx)("td",{children:e.group_name}),Object(B.jsx)("td",{children:g.map((function(t){if(t.groups.some((function(t){return t.ID===e.ID})))return Object(B.jsx)("p",{children:t.user.username},t.user.id)}))}),Object(B.jsxs)("td",{children:[Object(B.jsx)($.LinkContainer,{to:"/admin/group/".concat(e.ID,"/edit"),children:Object(B.jsx)(Xt.a,{variant:"light",className:"btn-sm",children:Object(B.jsx)("i",{className:"fas fa-edit"})})}),Object(B.jsx)(Xt.a,{variant:"danger",className:"btn-sm",onClick:function(){return E(e.ID)},children:Object(B.jsx)("i",{className:"fas fa-trash"})})]})]},e.ID)}))})]})})]})})};var mn=function(){var e=Object(i.w)().id,t=Object(o.useState)(""),n=Object(Ue.a)(t,2),r=n[0],a=n[1],l=Object(c.b)(),p=Object(i.t)(),h=Object(c.c)((function(e){return e.groupDetails})),O=h.error,f=h.loading,x=h.group,g=Object(c.c)((function(e){return e.groupUpdate})),m=g.error,y=g.loading,_=g.success;return Object(o.useEffect)((function(){var t;_?(l({type:S}),p("/admin/grouplist")):x.group_name&&x.ID===Number(e)?a(x.group_name):l((t=e,function(){var e=Object(d.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:v}),e.next=4,j.a.get("".concat(b,"/api/groups/").concat(t,"/"));case 4:r=e.sent,a=r.data,n({type:w,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:E,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[l,x,e,p,_]),Object(B.jsxs)("div",{children:[Object(B.jsx)(s.Link,{to:"/admin/grouplist",children:"Go Back"}),Object(B.jsxs)(fn,{children:[Object(B.jsx)("h1",{children:"Edycja grupy"}),y&&Object(B.jsx)(M,{}),m&&Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",m]}),f?Object(B.jsx)(M,{}):O?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",O]}):Object(B.jsxs)(ze.a,{onSubmit:function(t){t.preventDefault(),l(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:N}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.put("".concat(b,"/api/groups/update/").concat(e.id,"/"),e,c);case 6:i=t.sent,o=i.data,n({type:R,payload:o}),n({type:w,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:D,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:e,name:r}))},children:[Object(B.jsxs)(ze.a.Group,{controlId:"name",children:[Object(B.jsx)(ze.a.Label,{children:"Nazwa"}),Object(B.jsx)(ze.a.Control,{type:"name",placeholder:"Wpisz nazw\u0119",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(B.jsx)(Xt.a,{type:"submit",variant:"primary",children:"Zaktualizuj"})]})]})]})};var yn=function(){var e=Object(o.useState)(""),t=Object(Ue.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(""),l=Object(Ue.a)(a,2),p=l[0],h=l[1],O=Object(o.useState)([]),f=Object(Ue.a)(O,2),x=f[0],g=f[1],m=Object(c.b)(),y=Object(i.t)(),_=Object(c.c)((function(e){return e.userList})),v=_.loading,w=_.error,E=_.users,S=Object(c.c)((function(e){return e.groupCreate})),N=S.loading,R=S.error,D=S.success,P=Object(c.c)((function(e){return e.userLogin})).userInfo;Object(o.useEffect)((function(){m(Dt())}),[m]),Object(o.useEffect)((function(){m({type:I}),P&&P.isAdmin||y("/login"),"undefined"!==typeof E&&E.length&&g(new Array(E.length).fill(!1)),D&&y("/admin/grouplist")}),[m,P,D,y,JSON.stringify(E)]);var A=function(){var e=Object(Z.a)(x),t=Object(Z.a)(E);return e.map((function(e,n){return e&&t[n].user})).filter((function(e){return e}))};return Object(B.jsxs)("div",{children:[Object(B.jsx)(s.Link,{to:"/admin/grouplist",children:"Powr\xf3t"}),Object(B.jsxs)(fn,{children:[Object(B.jsx)("h1",{children:"Tworzenie grupy"}),N&&Object(B.jsx)(M,{}),R&&Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",R]}),v?Object(B.jsx)(M,{}):w?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",w]}):Object(B.jsxs)(ze.a,{onSubmit:function(e){e.preventDefault();var t,n=A();p&&m((t={name:p,users:n},function(){var e=Object(d.a)(u.a.mark((function e(n,r){var a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:C}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,j.a.post("/".concat(b,"api/groups/create"),t,c);case 6:n({type:k}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:L,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:[Object(B.jsxs)(ze.a.Group,{controlId:"name",children:[Object(B.jsx)(ze.a.Label,{children:"Nazwa"}),Object(B.jsx)(ze.a.Control,{type:"name",placeholder:"Wpisz nazw\u0119",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(B.jsx)(ze.a.Label,{style:{marginTop:"10px"},children:"U\u017cytkownicy"}),Object(B.jsx)(ze.a.Control,{type:"text",placeholder:"Wyszukaj u\u017cytkownika...",onChange:function(e){return r(e.target.value)},style:{marginBottom:"10px"}}),Object(B.jsx)(ze.a.Group,{controlId:"users",children:E.filter((function(e){return""==n||e.user.email.toLowerCase().includes(n.toLowerCase())?e:void 0})).map((function(e,t){return Object(B.jsx)(ze.a.Check,{id:e.user.id,type:"checkbox",value:e.user.email,label:e.user.email,checked:x[t],onChange:function(e){return function(e){var t=x.map((function(t,n){return n===e?!t:t}));g(t)}(t)}},e.user.id)}))}),Object(B.jsx)(Xt.a,{type:"submit",variant:"primary",children:"Stw\xf3rz grup\u0119"})]})]})]})};var _n=function(){var e=Object(c.b)(),t=Object(i.t)(),n=Object(o.useState)(""),r=Object(Ue.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(""),p=Object(Ue.a)(l,2),h=p[0],O=p[1],f=Object(c.c)((function(e){return e.pollList})),x=f.error,g=f.polls,m=f.loading,y=Object(c.c)((function(e){return e.userLogin})).userInfo,_=Object(c.c)((function(e){return e.pollDelete})),v=_.loading,w=_.error,E=_.success;Object(o.useEffect)((function(){y.isAdmin||t("/login"),e(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ee}),e.next=4,j.a.get("".concat(b,"/api/polls/all-data"));case 4:for(s in n=e.sent,r=n.data,a=[],r)a.push({id:r[s].poll.ID,name:r[s].poll.poll_name,description:r[s].poll.poll_description,deadline:r[s].poll.deadline,isFinished:r[s].poll.isFinished,groups:r[s].groups,user:r[s].user,questions:r[s].questions});t({type:te,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ne,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e,y,t,E]);var S=function(t){window.confirm("Jeste\u015b pewny, \u017ce chcesz usun\u0105\u0107 t\u0105 ankiet\u0119 ?")&&e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var a,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:oe}),a=r(),s=a.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,j.a.delete("".concat(b,"/api/polls/delete/").concat(e,"/"),c);case 6:n({type:le}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:ue,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))};return Object(B.jsx)(jn.a,{children:Object(B.jsxs)("div",{children:[Object(B.jsxs)(hn.a,{className:"align-items-center",children:[Object(B.jsx)(On.a,{children:Object(B.jsx)("h1",{children:"Ankiety"})}),Object(B.jsx)(On.a,{className:"text-right",style:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsxs)(Xt.a,{style:{marginRight:"10px"},onClick:function(){t("/polls/create-poll")},children:[Object(B.jsx)("i",{className:"fas fa-plus"}),"Stw\xf3rz anki\u0119t\u0119"]})}),Object(B.jsx)(ze.a.Control,{type:"text",placeholder:"Wyszukaj ankiet\u0119...",onChange:function(e){return s(e.target.value)},style:{margin:"20px 0"}}),Object(B.jsx)(ze.a.Control,{type:"text",placeholder:"Wyszukaj u\u017cytkownika...",onChange:function(e){return O(e.target.value)},style:{marginBottom:"10px"}})]}),v&&Object(B.jsx)(M,{}),w&&Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",w]}),m?Object(B.jsx)(M,{}):x?Object(B.jsxs)("p",{children:["B\u0142\u0105d: ",x]}):Object(B.jsx)("div",{children:Object(B.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"NAZWA"}),Object(B.jsx)("th",{children:"OPIS"}),Object(B.jsx)("th",{children:"TERMIN"}),Object(B.jsx)("th",{children:"ZAKO\u0143CZONY"}),Object(B.jsx)("th",{children:"GRUPY"}),Object(B.jsx)("th",{children:"U\u017bYTKOWNIK"}),Object(B.jsx)("th",{children:"PYTANIA"}),Object(B.jsx)("th",{children:"ODPOWIEDZI"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:g.filter((function(e){return""==a&&""==h||e.name.toLowerCase().includes(a.toLowerCase())&&e.user.email.toLowerCase().includes(h.toLowerCase())?e:void 0})).map((function(t){return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:t.id}),Object(B.jsx)("td",{children:t.name}),Object(B.jsx)("td",{children:t.description}),Object(B.jsxs)("td",{children:[Object(B.jsx)("p",{children:t.deadline.slice(0,10)}),Object(B.jsx)("p",{children:t.deadline.slice(11,19)})]}),Object(B.jsx)("td",{children:t.isFinished?Object(B.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(B.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(B.jsx)("td",{children:t.groups.map((function(e){return Object(B.jsx)("p",{children:e.group_name},e.ID)}))}),Object(B.jsx)("td",{children:t.user.email}),Object(B.jsx)("td",{style:{padding:"0"},children:Object(B.jsx)(ye.a,{style:{margin:"0"},striped:!0,bordered:!0,hover:!0,children:Object(B.jsx)("tbody",{children:t.questions.map((function(e){return Object(B.jsx)("tr",{children:Object(B.jsx)("td",{style:{height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:e.question.question})},e.question.ID)}))})})}),Object(B.jsx)("td",{style:{padding:"0"},children:t.isFinished?Object(B.jsx)(ye.a,{style:{margin:"0"},striped:!0,bordered:!0,hover:!0,children:Object(B.jsx)("tbody",{children:t.questions.map((function(e){return function(e){switch(!0){case e.question.is_single_choice:case e.question.is_multi_choice:return Object(B.jsx)("tr",{children:Object(B.jsx)("td",{style:{height:"200px",padding:"0"},children:Object(B.jsx)(ye.a,{style:{margin:"0",height:"100%"},striped:!0,bordered:!0,hover:!0,children:Object(B.jsx)("tbody",{children:e.answers.map((function(e){return Object(B.jsx)("tr",{children:Object(B.jsx)("td",{style:e.is_marked?{color:"green"}:{color:"red"},children:e.answer})},e.ID)}))})})})});case e.question.is_open:return Object(B.jsx)("tr",{children:e.answers.map((function(e){return Object(B.jsx)("td",{style:{height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:e.open_answer},e.ID)}))});case e.question.is_date_choice:return Object(B.jsx)("tr",{children:e.answers.map((function(e){return Object(B.jsx)("td",{style:{height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:e.date_answer},e.ID)}))});default:return e.question}}(e)}))})}):Object(B.jsx)("p",{style:{padding:"5px"},children:"Ten u\u017cytkownik nie wype\u0142ni\u0142 jeszcze ankiety"})}),Object(B.jsxs)("td",{children:[Object(B.jsx)(Xt.a,{variant:"dark",className:"btn-sm",onClick:function(){return e(ge(t.name,!0))},children:Object(B.jsx)("i",{className:"fas fa-file"})}),Object(B.jsx)(Xt.a,{variant:"danger",className:"btn-sm",onClick:function(){return S(t.id)},children:Object(B.jsx)("i",{className:"fas fa-trash"})})]})]},t.id)})}))})]})})]})})},vn=n(64),wn=n.n(vn),En=n.p+"static/media/logo-weii.3b7abcc3.png",Sn=function(){return Object(B.jsx)("footer",{children:Object(B.jsxs)("div",{className:wn.a["footer-container"],children:[Object(B.jsx)("div",{className:wn.a["logo-weii"],children:Object(B.jsx)("img",{src:En,alt:"logo-weii"})}),Object(B.jsxs)("div",{className:wn.a["authors-container"],children:[Object(B.jsx)("h3",{children:"Autor:"}),Object(B.jsx)("ul",{className:wn.a.authors,children:Object(B.jsx)("li",{children:"Marciniak Marcin"})})]})]})})},Cn=n(98),kn=n.n(Cn),Ln=n(151),In=n(155),Nn=n(150),Rn=function(){var e=Object(c.c)((function(e){return e.userLogin})).userInfo,t=Object(c.c)((function(e){return e.userGroupList})).userGroups,n=Object(c.b)(),r=Object(i.t)(),a=Object(o.useState)(!1),s=Object(Ue.a)(a,2),l=s[0],u=s[1];return Object(o.useEffect)((function(){t&&(t.some((function(e){return"Pracownik"===e.groupName}))&&u(!0))}),[JSON.stringify(t)]),Object(B.jsx)(Ln.a,{className:kn.a["color-nav"],variant:"light",expand:"lg",collapseOnSelect:!0,children:Object(B.jsxs)(jn.a,{children:[Object(B.jsx)($.LinkContainer,{to:"/",children:Object(B.jsx)(Ln.a.Brand,{children:"Ankiety"})}),Object(B.jsx)(Ln.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(B.jsx)(Ln.a.Collapse,{id:"basic-navbar-nav",style:{justifyContent:"flex-end",marginRight:"100px"},children:Object(B.jsxs)(In.a,{className:"ml-auto",children:[e?Object(B.jsxs)(Nn.a,{title:e.name,id:"username",children:[Object(B.jsx)($.LinkContainer,{to:"/profile",children:Object(B.jsx)(Nn.a.Item,{children:"Profil"})}),!e.isAdmin&&Object(B.jsx)($.LinkContainer,{to:"/polls",children:Object(B.jsx)(Nn.a.Item,{children:"Moje ankiety"})}),l&&!e.isAdmin&&Object(B.jsx)($.LinkContainer,{to:"/polls/create-poll",children:Object(B.jsx)(Nn.a.Item,{children:"Tworzenie ankiety"})}),Object(B.jsx)(Nn.a.Item,{onClick:function(){n((function(e){localStorage.removeItem("userInfo"),e({type:lt}),e({type:Ot}),e({type:mt}),e({type:re}),e({type:x}),e({type:Q}),e({type:wt}),e({type:Je}),e({type:Ke}),e({type:tt}),e({type:_}),e({type:S}),e({type:I}),e({type:P}),e({type:be}),e({type:"DOWNLOAD_REPORT_POLL_RESET"}),e({type:ie}),e({type:Nt})})),r("/")},children:"Wyloguj si\u0119"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)($.LinkContainer,{to:"/login",children:Object(B.jsxs)(In.a.Link,{children:[Object(B.jsx)("i",{className:"fas fa-user"}),"Logowanie"]})}),Object(B.jsx)($.LinkContainer,{to:"/register",children:Object(B.jsxs)(In.a.Link,{children:[Object(B.jsx)("i",{className:"fas fa-user"}),"Rejestracja"]})})]}),e&&e.isAdmin&&Object(B.jsxs)(Nn.a,{title:"Admin",id:"adminmenue",children:[Object(B.jsx)($.LinkContainer,{to:"/admin/userlist",children:Object(B.jsx)(Nn.a.Item,{children:"U\u017cytkownicy"})}),Object(B.jsx)($.LinkContainer,{to:"/admin/grouplist",children:Object(B.jsx)(Nn.a.Item,{children:"Grupy"})}),Object(B.jsx)($.LinkContainer,{to:"/admin/polllist",children:Object(B.jsx)(Nn.a.Item,{children:"Ankiety"})})]})]})})]})})},Dn=n(100),Pn=n.n(Dn),An=function(e){var t=e.children;return Object(B.jsxs)("div",{className:Pn.a.page,children:[Object(B.jsx)(Rn,{}),Object(B.jsx)("main",{className:"py-3",children:Object(B.jsx)(jn.a,{children:t})}),Object(B.jsx)(Sn,{})]})};var Tn=function(){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(An,{children:Object(B.jsxs)(i.f,{children:[Object(B.jsx)(i.d,{path:"/",element:Object(B.jsx)(Te,{})}),Object(B.jsx)(i.d,{path:"/polls",element:Object(B.jsx)(Ce,{})}),Object(B.jsx)(i.d,{path:"/polls/:pollId",element:Object(B.jsx)(st,{})}),Object(B.jsx)(i.d,{path:"/polls/:pollId/finished-poll",element:Object(B.jsx)(Yt,{})}),Object(B.jsx)(i.d,{path:"/polls/:pollId/filled-poll",element:Object(B.jsx)(Vt,{})}),Object(B.jsx)(i.d,{path:"/polls/create-poll",element:Object(B.jsx)(un,{})}),Object(B.jsx)(i.d,{path:"/polls/created-poll",element:Object(B.jsx)(pn,{})}),Object(B.jsx)(i.d,{path:"/login",element:Object(B.jsx)(zt,{})}),Object(B.jsx)(i.d,{path:"/register",element:Object(B.jsx)(Qt,{})}),Object(B.jsx)(i.d,{path:"/profile",element:Object(B.jsx)(Zt,{})}),Object(B.jsx)(i.d,{path:"/admin/userlist",element:Object(B.jsx)(bn,{})}),Object(B.jsx)(i.d,{path:"/admin/user/:id/edit",element:Object(B.jsx)(xn,{})}),Object(B.jsx)(i.d,{path:"/admin/grouplist",element:Object(B.jsx)(gn,{})}),Object(B.jsx)(i.d,{path:"/admin/group/create",element:Object(B.jsx)(yn,{})}),Object(B.jsx)(i.d,{path:"/admin/group/:id/edit",element:Object(B.jsx)(mn,{})}),Object(B.jsx)(i.d,{path:"/admin/polllist",element:Object(B.jsx)(_n,{})})]})})})},Un=n(62),zn=n(102),Fn=n(101),Gn=Object(Un.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return{loading:!0};case it:return{loading:!1,userInfo:t.payload};case ot:return{loading:!1,error:t.payload};case lt:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return{loading:!0};case dt:return{loading:!1,userInfo:t.payload};case pt:return{loading:!1,error:t.payload};case lt:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:!0});case bt:return{loading:!1,user:t.payload};case ht:return{loading:!1,error:t.payload};case Ot:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return{loading:!0};case xt:return{loading:!1,success:!0,userInfo:t.payload};case gt:return{loading:!1,error:t.payload};case mt:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return{loading:!0};case _t:return{loading:!1,users:t.payload};case vt:return{loading:!1,error:t.payload};case wt:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return{loading:!0};case St:return{loading:!1,success:!0};case Ct:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:return{loading:!0};case Lt:return{loading:!1,success:!0};case It:return{loading:!1,error:t.payload};case Nt:return{user:{}};default:return e}},pollList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{polls:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0,polls:[]};case te:return{loading:!1,polls:t.payload};case ne:return{loading:!1,error:t.payload};case re:return{polls:[]};default:return e}},pollForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{poll:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0,poll:{}};case se:return{loading:!1,poll:t.payload};case ce:return{loading:!1,error:t.payload};case ie:return{poll:{}};default:return e}},pollDescriptionCreatePoll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pollDescription:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0,pollDescription:{}};case pe:return{loading:!1,pollDescription:t.payload};case je:return{loading:!1,error:t.payload};case be:return{pollDescription:{}};default:return e}},sentPoll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case Oe:return{loading:!1};case fe:return{loading:!1,error:t.payload};default:return e}},pollDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case le:return{loading:!1,success:!0};case ue:return{loading:!1,error:t.payload};default:return e}},userGroupList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userGroups:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0,userGroups:[]};case O:return{loading:!1,userGroups:t.payload};case f:return{loading:!1,error:t.payload};case x:return{userGroups:[]};default:return e}},userPollList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userPolls:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0,userPolls:[]};case G:return{loading:!1,userPolls:t.payload};case q:return{loading:!1,error:t.payload};case Q:return{userPolls:[]};default:return e}},answersByPollId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{answers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return{loading:!0};case Me:return{loading:!1,answers:t.payload};case Ze:return{loading:!1,error:t.payload};case Je:return{answers:[]};default:return e}},answersCreatePoll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{answersQuestion:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0};case He:return{loading:!1,answersQuestion:t.payload};case Ve:return{loading:!1,error:t.payload};case Ke:return{answersQuestion:[]};default:return e}},allQuestionsAnswersCreatePoll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questionsAnswers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return{loading:!0};case $e:return{loading:!1,questionsAnswers:t.payload};case et:return{loading:!1,error:t.payload};case tt:return{questionsAnswers:[]};default:return e}},allGroupList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groups:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case m:return{loading:!1,groups:t.payload};case y:return{loading:!1,error:t.payload};case _:return{groups:[]};default:return e}},groupDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case T:return{loading:!1,success:!0};case U:return{loading:!1,error:t.payload};default:return e}},groupDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{group:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:!0});case w:return{loading:!1,group:t.payload};case E:return{loading:!1,error:t.payload};case S:return{user:{}};default:return e}},groupUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{group:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case R:return{loading:!1,success:!0,group:t.payload};case D:return{loading:!1,error:t.payload};case P:return{group:{}};default:return e}},groupCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case k:return{loading:!1,success:!0};case L:return{loading:!1,error:t.payload};case I:return{};default:return e}}}),qn={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},userGroupList:{userGroups:localStorage.getItem("userGroups")?JSON.parse(localStorage.getItem("userGroups")):null}},Qn=[zn.a],Wn=Object(Un.createStore)(Gn,qn,Object(Fn.composeWithDevTools)(Un.applyMiddleware.apply(void 0,Qn)));n(138);a.a.render(Object(B.jsx)(c.a,{store:Wn,children:Object(B.jsx)(s.HashRouter,{children:Object(B.jsx)(Tn,{})})}),document.getElementById("root"))},22:function(e,t,n){e.exports={about:"About_about__m-DbZ","about-text":"About_about-text__3oZeo","about-1":"About_about-1__j5PF8","about-2":"About_about-2__128-p","about-image-1":"About_about-image-1__13vZ5","about-image-2":"About_about-image-2__1qcYs","about-text-2":"About_about-text-2__BGC1d","about-text-1":"About_about-text-1__1HKS8","about-text-p2":"About_about-text-p2__22ZDu"}},28:function(e,t,n){e.exports={"poll-container":"PollForm_poll-container__1cr_m","sub-nav":"PollForm_sub-nav__3Uul5","poll-question":"PollForm_poll-question__G4JlG","poll-question-content":"PollForm_poll-question-content__pRGm1"}},43:function(e,t,n){e.exports={"page-container-login":"Login_page-container-login__3y5S7",form:"Login_form__29YWs","form-content":"Login_form-content__ey1mZ",error:"Login_error__f1XZQ",info:"Login_info__Nokqn"}},44:function(e,t,n){e.exports={"page-container-login":"Register_page-container-login__3kLHG",form:"Register_form__FwWVa","form-content":"Register_form-content__3SgT2",error:"Register_error__1KVaJ",info:"Register_info__126_s"}},45:function(e,t,n){e.exports={"poll-container":"PollQuestionAnswers_poll-container__18bdT","sub-nav":"PollQuestionAnswers_sub-nav__wTIzJ","sub-menu":"PollQuestionAnswers_sub-menu__1i6xm","sub-button":"PollQuestionAnswers_sub-button__1dza8","yellow-button":"PollQuestionAnswers_yellow-button__1yjGQ","poll-question":"PollQuestionAnswers_poll-question__3f8Vz","poll-question-content":"PollQuestionAnswers_poll-question-content__IA7mR","question-content":"PollQuestionAnswers_question-content__yljjg",answers:"PollQuestionAnswers_answers__2wohy","question-image":"PollQuestionAnswers_question-image__lxs7i","question-menu":"PollQuestionAnswers_question-menu__htHDZ","type-answer":"PollQuestionAnswers_type-answer__13XLp","add-image":"PollQuestionAnswers_add-image__1v-W1","fa-image":"PollQuestionAnswers_fa-image__3jV1I","add-question":"PollQuestionAnswers_add-question__1v5EY"}},63:function(e,t,n){e.exports={"page-container-login":"Profile_page-container-login__1Gw3q",form:"Profile_form__2ANw5","form-content":"Profile_form-content__2B3SC",error:"Profile_error__3sAMU",info:"Profile_info__1bMrD"}},64:function(e,t,n){e.exports={"footer-container":"Footer_footer-container__3F2Hk","logo-weii":"Footer_logo-weii__1gJ6m","authors-container":"Footer_authors-container__64Qqx","form-content":"Footer_form-content__2RdWA"}},80:function(e,t,n){e.exports={"header-container":"Header_header-container__1eyRk","button-wide":"Header_button-wide__10rML","header-content":"Header_header-content__1uvYw"}},81:function(e,t,n){e.exports={"poll-desc":"PollDescription_poll-desc__2o8I-","poll-description-menu":"PollDescription_poll-description-menu__3wX7t"}},82:function(e,t,n){e.exports={"poll-container":"CreatePoll_poll-container__1zmBb","sub-nav":"CreatePoll_sub-nav__1Ik7b","sub-menu":"CreatePoll_sub-menu__34ACE","sub-button":"CreatePoll_sub-button__2CzhY","yellow-button":"CreatePoll_yellow-button__3qnNF","poll-question":"CreatePoll_poll-question___4izW","poll-question-content":"CreatePoll_poll-question-content__1dmWI","question-content":"CreatePoll_question-content__20TBh",answers:"CreatePoll_answers__1ZIi0","question-image":"CreatePoll_question-image__2djXb","question-menu":"CreatePoll_question-menu__1CHZw","type-answer":"CreatePoll_type-answer__1Qhw3","add-image":"CreatePoll_add-image__jcYz6","fa-image":"CreatePoll_fa-image__3Rt4G","add-question":"CreatePoll_add-question__3TPRH"}},92:function(e,t,n){e.exports={"selected-polls":"PollList_selected-polls__16yB7",polls:"PollList_polls__3W5yV",poll:"PollList_poll__1f9oE","margin-top-h2":"PollList_margin-top-h2__1No_T","green-text":"PollList_green-text__2Vjxs",item:"PollList_item__3yvb3",button:"PollList_button__2rsax","poll-all":"PollList_poll-all__3oMBV"}},93:function(e,t,n){e.exports={button:"Button_button__3nku4"}},98:function(e,t,n){e.exports={"color-nav":"Navigation_color-nav__2R75x",nav:"Navigation_nav__2akYh","navbar-nav":"Navigation_navbar-nav__J6PuU","navbar-right":"Navigation_navbar-right__3FFYG"}}},[[139,1,2]]]);
//# sourceMappingURL=main.de637ac6.chunk.js.map